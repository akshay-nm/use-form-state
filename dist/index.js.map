{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react'\n\nconst useFormState = (spec, debug = false) => {\n  const [names] = useState(spec.states.map((state) => state.name))\n  const [values, setValues] = useState(\n    spec.states.map((state) => state.default)\n  )\n  const [mandatory] = useState(spec.states.map((state) => state.mustBeValid))\n  const [validators] = useState(spec.states.map((state) => state.validator))\n  const [valids, setValids] = useState(\n    spec.states.map((state) => state.isValid)\n  )\n  const [needValidations, setNeedValidations] = useState(\n    spec.states.map(() => false)\n  )\n  const [edits, setEdits] = useState(spec.states.map(() => false))\n  const [warnings, setWarnings] = useState(spec.states.map(() => false))\n  const [isValid, setIsValid] = useState(false)\n  const [isValidating, setIsValidating] = useState(false)\n\n  useEffect(() => {\n    setIsValidating(() => {\n      let v = false\n      needValidations.forEach((val) => {\n        if (val) v = true\n      })\n      return v\n    })\n  }, [needValidations])\n\n  // run validations when needed\n  const validate = useCallback(() => {\n    needValidations.forEach((needsValidation, index) => {\n      if (needsValidation) {\n        setValids((prev) => {\n          const arr = [...prev]\n          arr[index] = validators[index](values[index])\n          return arr\n        })\n        setNeedValidations((prev) => {\n          const arr = [...prev]\n          arr[index] = false\n          return arr\n        })\n      }\n    })\n  }, [needValidations, validators, values])\n  useEffect(() => validate(), [validate])\n\n  const triggerWarnings = useCallback(() => {\n    mandatory.forEach((isMandatory, index) => {\n      if (isMandatory) {\n        setWarnings((prev) => {\n          const arr = [...prev]\n          arr[index] = !needValidations[index] && !valids[index] && edits[index]\n          return arr\n        })\n      }\n    })\n  }, [valids, needValidations, edits, mandatory])\n  useEffect(() => triggerWarnings(), [triggerWarnings])\n\n  // check if form is valid\n  useEffect(() => {\n    if (!isValidating)\n      setIsValid(() => {\n        let answer = true\n        mandatory.forEach((isMandatory, index) => {\n          if (isMandatory) if (!valids[index]) answer = false\n        })\n        return answer\n      })\n  }, [valids, mandatory, isValidating])\n\n  // handle changes in form\n  const onChangeHandler = useCallback((index, value) => {\n    setValues((prev) => {\n      const arr = [...prev]\n      arr[index] = value\n      return arr\n    })\n    setNeedValidations((prev) => {\n      const arr = [...prev]\n      arr[index] = true\n      return arr\n    })\n    setEdits((prev) => {\n      const arr = [...prev]\n      arr[index] = true\n      return arr\n    })\n  }, [])\n\n  const triggerValidation = useCallback(() => {\n    setEdits((prev) => {\n      const arr = [...prev]\n      arr.fill(true)\n      return arr\n    })\n    setNeedValidations((prev) => {\n      const arr = [...prev]\n      arr.fill(true)\n      return arr\n    })\n  }, [])\n\n  const reset = useCallback(() => {\n    setValues(spec.states.map((state) => state.default))\n    setValids(spec.states.map((state) => state.isValid))\n    setNeedValidations(spec.states.map(() => false))\n    setIsValid(false)\n  }, [spec])\n\n  const resetState = useCallback(\n    (index) => {\n      setValues((prev) => {\n        const arr = [...prev]\n        arr[index] = spec.states[index].default\n        return arr\n      })\n      setValids((prev) => {\n        const arr = [...prev]\n        arr[index] = spec.states[index].defaultIsValid\n        return arr\n      })\n      setNeedValidations((prev) => {\n        const arr = [...prev]\n        arr[index] = false\n        return arr\n      })\n    },\n    [spec]\n  )\n\n  const setState = useCallback((index, value, isValid, needsValidation) => {\n    setValues((prev) => {\n      const arr = [...prev]\n      arr[index] = value\n      return arr\n    })\n    setValids((prev) => {\n      const arr = [...prev]\n      arr[index] = isValid\n      return arr\n    })\n    setNeedValidations((prev) => {\n      const arr = [...prev]\n      arr[index] = needsValidation\n      return arr\n    })\n  }, [])\n\n  const [onChangeHandlers] = useState(\n    spec.states.map((state, index) => (value) => onChangeHandler(index, value))\n  )\n  const [resetStates] = useState(\n    spec.states.map((state, index) => () => resetState(index))\n  )\n  const [setStates] = useState(\n    spec.states.map((state, index) => (value, isValid, needsValidation) =>\n      setState(index, value, isValid, needsValidation)\n    )\n  )\n\n  // logging\n  useEffect(() => {\n    if (debug) console.log('form state: names: ', names)\n  }, [debug, names])\n  useEffect(() => {\n    if (debug) console.log('form state: values: ', values)\n  }, [debug, values])\n  useEffect(() => {\n    if (debug) console.log('form state: edits: ', edits)\n  }, [debug, edits])\n  useEffect(() => {\n    if (debug) console.log('form state: needValidations: ', needValidations)\n  }, [debug, needValidations])\n  useEffect(() => {\n    if (debug) console.log('form state: valids: ', valids)\n  }, [debug, valids])\n  useEffect(() => {\n    if (debug) console.log('form state: validators: ', validators)\n  }, [debug, validators])\n  useEffect(() => {\n    if (debug) console.log('form state: mandatory: ', mandatory)\n  }, [debug, mandatory])\n  useEffect(() => {\n    if (debug) console.log('form state: warnings: ', warnings)\n  }, [debug, warnings])\n  useEffect(() => {\n    if (debug) console.log('form state: isValidating: ', isValidating)\n  }, [debug, isValidating])\n  useEffect(() => {\n    if (debug) console.log('form state: isValid: ', isValid)\n  }, [debug, isValid])\n  useEffect(() => {\n    if (debug) console.log('form state: onChangeHandlers: ', onChangeHandlers)\n  }, [debug, onChangeHandlers])\n\n  return [\n    isValid,\n    isValidating,\n    values,\n    warnings,\n    onChangeHandlers,\n    triggerWarnings,\n    triggerValidation,\n    reset,\n    resetStates,\n    setStates,\n    names\n  ]\n}\n\nexport default useFormState\n"],"names":["useFormState","spec","debug","useState","states","map","state","name","names","values","setValues","mustBeValid","mandatory","validator","validators","isValid","valids","setValids","needValidations","setNeedValidations","edits","setEdits","warnings","setWarnings","setIsValid","isValidating","setIsValidating","useEffect","v","forEach","val","validate","useCallback","needsValidation","index","prev","arr","triggerWarnings","isMandatory","answer","onChangeHandler","value","triggerValidation","fill","reset","resetState","defaultIsValid","setState","onChangeHandlers","resetStates","setStates","console","log"],"mappings":"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"}